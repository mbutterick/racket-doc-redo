<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2&nbsp;All Services</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="../racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="../doc-site.css" title="default"/><script type="text/javascript" src="../scribble-common.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../manual-racket.js"></script><script type="text/javascript" src="../doc-site.js"></script><script type="text/javascript" src="../local-redirect/local-redirect.js"></script><script type="text/javascript" src="../local-redirect/local-user-redirect.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Amazon Web Services</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Introduction.html" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">All Services</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="S3__Storage_.html" class="tocviewlink" data-pltdoc="x">S3 (Storage)</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="SDB__Database_.html" class="tocviewlink" data-pltdoc="x">SDB (Database)</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="SES__Email_.html" class="tocviewlink" data-pltdoc="x">SES (Email)</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="SNS__Notifications_.html" class="tocviewlink" data-pltdoc="x">SNS (Notifications)</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="SQS__Queues_.html" class="tocviewlink" data-pltdoc="x">SQS (Queues)</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Route_53__DNS_.html" class="tocviewlink" data-pltdoc="x">Route 53 (DNS)</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Dynamo_DB.html" class="tocviewlink" data-pltdoc="x">Dynamo DB</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="CloudWatch__Monitoring_.html" class="tocviewlink" data-pltdoc="x">Cloud<span class="mywbr"> &nbsp;</span>Watch (Monitoring)</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Glacier__Archives_.html" class="tocviewlink" data-pltdoc="x">Glacier (Archives)</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Utilities.html" class="tocviewlink" data-pltdoc="x">Utilities</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Unit_tests.html" class="tocviewlink" data-pltdoc="x">Unit tests</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="License.html" class="tocviewlink" data-pltdoc="x">License</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>2&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">All Services</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="#%28part._.Names%29" class="tocviewlink" data-pltdoc="x">Names</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="#%28part._.A.W.S_.Keys%29" class="tocviewlink" data-pltdoc="x">AWS Keys</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="#%28part._.Exception_handling%29" class="tocviewlink" data-pltdoc="x">Exception handling</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="#%28part._.Connection_pooling%29" class="tocviewlink" data-pltdoc="x">Connection pooling</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.1<tt>&nbsp;</tt></span><a href="#%28part._.Names%29" class="tocsubseclink" data-pltdoc="x">Names</a></td></tr><tr><td><span class="tocsublinknumber">2.2<tt>&nbsp;</tt></span><a href="#%28part._.A.W.S_.Keys%29" class="tocsubseclink" data-pltdoc="x">AWS Keys</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">public-<wbr></wbr>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">private-<wbr></wbr>key</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">read-<wbr></wbr>keys</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._ensure-have-keys%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">ensure-<wbr></wbr>have-<wbr></wbr>keys</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.3<tt>&nbsp;</tt></span><a href="#%28part._.Exception_handling%29" class="tocsubseclink" data-pltdoc="x">Exception handling</a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>aws</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">header&amp;response-<wbr></wbr>&gt;exn:<span class="mywbr"> &nbsp;</span>fail:<span class="mywbr"> &nbsp;</span>aws</span></span></a></td></tr><tr><td><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>response</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2.4<tt>&nbsp;</tt></span><a href="#%28part._.Connection_pooling%29" class="tocsubseclink" data-pltdoc="x">Connection pooling</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.10.1.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10.1.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Introduction.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Amazon Web Services&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="S3__Storage_.html" title="forward to &quot;3 S3 (Storage)&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;All_Services&quot;">2<tt>&nbsp;</tt><a name="(part._.All_.Services)"></a>All Services</h3><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Names&quot;">2.1<tt>&nbsp;</tt><a name="(part._.Names)"></a>Names</h4><p>The names of procedures and structs do <span style="font-style: italic">not</span> have special prefixes to
&ldquo;group&rdquo; them.  Instead, use the <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._prefix-in%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">prefix-in</a></span> option for
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">require</a></span> if you prefer a prefix (or need one to avoid a name
collision).</p><p>For example if you want the <span class="RktSym">aws/sns</span> procedures to have an <span class="RktSym">sns-</span>
prefix, so that <span class="RktSym"><a href="SNS__Notifications_.html#%28def._%28%28lib._aws%2Fsns..rkt%29._create-topic%29%29" class="RktValLink" data-pltdoc="x">create-topic</a></span> is renamed to <span class="RktSym">sns-create-topic</span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._prefix-in%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">prefix-in</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sns-</span><span class="hspace">&nbsp;</span><span class="RktSym">aws/sns</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">sns-create-topic</span><span class="hspace">&nbsp;</span><span class="RktVal">"foobar"</span><span class="RktPn">)</span></td></tr></table></blockquote><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;AWS_Keys&quot;">2.2<tt>&nbsp;</tt><a name="(part._.A.W.S_.Keys)"></a><a name="(mod-path._aws/keys)"></a>AWS Keys</h4><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._aws%2Fkeys%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">aws/keys</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/aws" title="Install this package using `raco pkg install aws`"><span class="stt">aws</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._public-key))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">public-key</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">public-key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Your AWS public key, a.k.a. &ldquo;Access ID.&rdquo;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>parameter</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._private-key))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">private-key</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></p></blockquote></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValDef RktValLink" data-pltdoc="x">private-key</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Your AWS private key, a.k.a. &ldquo;Secret Key.&rdquo;</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._read-keys))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="RktValDef RktValLink" data-pltdoc="x">read-keys</a></span></span><span class="hspace">&nbsp;</span>[<span class="RktVar">file</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td valign="top"><span class="hspace">&nbsp;&nbsp;</span></td><td valign="top"><span class="RktVar">file</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">:</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._path%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">path?</a></span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">=</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Manipulating_Paths.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._build-path%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">build-path</a></span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=Filesystem.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._find-system-path%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">find-system-path</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">home-dir</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">".aws-keys"</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Set the parameters <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span> by
reading their values from a plain text file. The file should consist of two
lines:</div></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">AWSAccessKeyId=&lt;key&gt;</span></p></td></tr><tr><td><p><span class="stt">AWSSecretKey=&lt;key&gt;</span></p></td></tr></table></p><p>By default this file is <span class="stt">~/.aws-keys</span>. You probably want to <span class="stt">chmod</span> the
permissions of this file carefully. </p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/keys..rkt)._ensure-have-keys))"></a><span title="Provided from: aws/keys | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._ensure-have-keys%29%29" class="RktValDef RktValLink" data-pltdoc="x">ensure-have-keys</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=void.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._void%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">void?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">If either <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._public-key%29%29" class="RktValLink" data-pltdoc="x">public-key</a></span> or <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._private-key%29%29" class="RktValLink" data-pltdoc="x">private-key</a></span> is <span class="RktVal">""</span>,
calls <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fkeys..rkt%29._read-keys%29%29" class="RktValLink" data-pltdoc="x">read-keys</a></span>. If either is <span style="font-style: italic">still</span> blank, calls
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._error%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">error</a></span> with a hopefully helpful reminder about how to set the
parameters. </div></p><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Exception_handling&quot;">2.3<tt>&nbsp;</tt><a name="(part._.Exception_handling)"></a><a name="(mod-path._aws/exn)"></a>Exception handling</h4><p>Most of the functions do not return a failure value. Instead they raise
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span>, which you need to &ldquo;catch&rdquo; using
<span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=exns.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._with-handlers%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">with-handlers</a></span>.</p><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="stt"> </span><a href="#%28mod-path._aws%2Fexn%29" class="RktModLink" data-pltdoc="x"><span class="RktSym">aws/exn</span></a><span class="RktPn">)</span></td><td align="right"><span class="RpackageSpec"><span class="Smaller">&nbsp;package:</span> <a href="https://pkgs.racket-lang.org/package/aws" title="Install this package using `raco pkg install aws`"><span class="stt">aws</span></a></span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>struct</p></div></div><table cellspacing="0" cellpadding="0" class="RForeground"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=define-struct.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._struct%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-aws-message))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-aws-code))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-http-message))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws-http-code))"></a><a name="(def._((lib._aws/exn..rkt)._make-exn~3afail~3aaws))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws~3f))"></a><a name="(def._((lib._aws/exn..rkt)._struct~3aexn~3afail~3aaws))"></a><a name="(def._((lib._aws/exn..rkt)._exn~3afail~3aaws))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValDef RktValLink" data-pltdoc="x">exn:fail:aws</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">http-code</span><span class="stt"> </span><span class="RktSym">http-message</span><span class="stt"> </span><span class="RktSym">aws-code</span><span class="stt"> </span><span class="RktSym">aws-message</span><span class="RktPn">)</span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym">make-exn:fail:aws</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">http-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._exact-positive-integer%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">exact-positive-integer?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">http-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">aws-code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">aws-message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Used by <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">header&amp;response-&gt;exn:fail:aws</a></span> and <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="RktValLink" data-pltdoc="x">check-response</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><table cellspacing="0" cellpadding="0" class="prototype RForeground"><tr><td valign="top"><span class="RktPn">(</span><a name="(def._((lib._aws/exn..rkt)._header~26response-~3eexn~3afail~3aaws))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._header~26response-~3eexn~3afail~3aaws%29%29" class="RktValDef RktValLink" data-pltdoc="x">header&amp;response-&gt;exn:fail:aws</a></span></span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">headers</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">body</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td></tr><tr><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktVar">ccm</span><span class="RktPn">)</span></td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top">&rarr;</td><td valign="top"><span class="hspace">&nbsp;</span></td><td valign="top"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws?</a></span></td></tr></table></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=bytestrings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._bytes%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">xexpr?</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">ccm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=contmarks.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._continuation-mark-set%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">continuation-mark-set?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Given an HTTP response&rsquo;s <span class="RktVar">headers</span> and <span class="RktVar">body</span>, return a
<span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span> constructed with information from the response.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._((lib._aws/exn..rkt)._check-response))"></a><span title="Provided from: aws/exn | Package: aws"><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._check-response%29%29" class="RktValDef RktValLink" data-pltdoc="x">check-response</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">raise/c</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws~3f%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">in</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=port-ops.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._input-port%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">input-port?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=strings.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._string%7E3f%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Check <span class="RktVar">headers</span>. If the status code is one of 200, 201, 202, 204, 206,
301, 302, or 307, simply return <span class="RktVar">headers</span> (without reading any response
body from <span class="RktVar">in</span>).</div></p><p>Otherwise, read the XML response body from <span class="RktVar">in</span> and use the information
to construct and raise <span class="RktSym"><a href="#%28def._%28%28lib._aws%2Fexn..rkt%29._exn~3afail~3aaws%29%29" class="RktValLink" data-pltdoc="x">exn:fail:aws</a></span>.</p><p>Note: This does <span style="font-style: italic">not</span> close the input port <span class="RktVar">in</span> before raising an
exception. It assumes you are using <span class="RktSym">call/requests</span>,
<span class="RktSym">call/input-request</span>, or <span class="RktSym">call/output-request</span> from the
<span class="RktSym">http/request</span> library (or using <span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=cont.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._dynamic-wind%2529%2529&amp;version=6.10.1.2" class="RktValLink Sq" data-pltdoc="x">dynamic-wind</a></span> or other
exception handling, or a custodian&#8212;<wbr></wbr>or whatever) to make sure the port is
closed!</p><h4 x-source-module="(lib &quot;aws/aws.scrbl&quot;)" x-source-pkg="aws" x-part-tag="&quot;Connection_pooling&quot;">2.4<tt>&nbsp;</tt><a name="(part._.Connection_pooling)"></a>Connection pooling</h4><p>This library uses the
<a href="https://github.com/greghendershott/http">http</a> package
to make HTTP connections to AWS. You may cause connections to be
reused ("pooled") by setting the
<a href="https://github.com/greghendershott/http/blob/master/http/manual.md#12-connections-and-requests">current-pool-timeout</a> parameter to some non-zero number of seconds.</p><p>This can be faster, especially for many small requests in a row.</p><p>In the following example, the first <span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span> request will
leave the connection open for 30 seconds. As a result, the second
<span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span> request will reuse the same connection. After
another 30 seconds, the connection will be closed automatically.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">http/request</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">aws/s3</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/local-redirect/index.html?doc=reference&amp;rel=parameters.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fmore-scheme..rkt%2529._parameterize%2529%2529&amp;version=6.10.1.2" class="RktStxLink Sq" data-pltdoc="x">parameterize</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">current-pool-timeout</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="S3__Storage_.html#%28def._%28%28lib._aws%2Fs3..rkt%29._list-buckets%29%29" class="RktValLink" data-pltdoc="x">list-buckets</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;6.10.1.2&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }"/></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" data-pltdoc="x" onclick="return GotoPLTRoot(&quot;6.10.1.2&quot;);">top</a></span><span class="navright">&nbsp;&nbsp;<a href="Introduction.html" title="backward to &quot;1 Introduction&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Amazon Web Services&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="S3__Storage_.html" title="forward to &quot;3 S3 (Storage)&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>